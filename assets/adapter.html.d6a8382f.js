import{_ as d,r,c,b as e,a,w as n,F as i,d as t,e as l,o as p}from"./app.9e111ae1.js";const h={},u=e("h1",{id:"\u9002\u914D\u5668-adapter",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#\u9002\u914D\u5668-adapter","aria-hidden":"true"},"#"),t(" \u9002\u914D\u5668 (Adapter)")],-1),_=e("p",null,"\u672C\u7AE0\u5C06\u4ECB\u7ECD\u4E0E\u9002\u914D\u5668\u76F8\u5173\u7684\u5185\u5BB9\uFF0C\u8FD9\u662F\u4E00\u4E2A\u76F8\u5F53\u5E95\u5C42\u7684\u6982\u5FF5\uFF0C\u56E0\u6B64\u5982\u679C\u4F60\u5E76\u4E0D\u6253\u7B97\u7F16\u5199\u4E00\u4E2A\u5E73\u53F0\u5B9E\u73B0\uFF0C\u4F60\u5B8C\u5168\u53EF\u4EE5\u8DF3\u8FC7\u672C\u7AE0\u8282\u3002",-1),b=t("\u6807\u6709 "),F=t(" \u7684\u65B9\u6CD5\u9700\u8981\u5E73\u53F0\u81EA\u884C\u5B9E\u73B0\u3002"),y=l('<h2 id="\u9759\u6001\u5C5E\u6027\u548C\u65B9\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u9759\u6001\u5C5E\u6027\u548C\u65B9\u6CD5" aria-hidden="true">#</a> \u9759\u6001\u5C5E\u6027\u548C\u65B9\u6CD5</h2><h3 id="adapter-types" tabindex="-1"><a class="header-anchor" href="#adapter-types" aria-hidden="true">#</a> Adapter.types</h3><ul><li>\u7C7B\u578B: <code>Record&lt;string, Adapter.Constructor&gt;</code></li></ul><p>\u4E00\u4E2A\u952E\u503C\u5BF9\uFF0C\u4FDD\u5B58\u4E86\u5DF2\u7ECF\u6CE8\u518C\u7684\u6240\u6709\u9002\u914D\u5668\u3002\u6CE8\u518C\u65F6\u8BF7\u6CE8\u610F\u5C06\u952E\u6539\u4E3A\u5168\u5C0F\u5199\u3002</p><h3 id="adapter-from-app-bot" tabindex="-1"><a class="header-anchor" href="#adapter-from-app-bot" aria-hidden="true">#</a> Adapter.from(app, bot)</h3><ul><li><strong>app:</strong> <code>App</code> \u5E94\u7528\u5B9E\u4F8B</li><li><strong>bot:</strong> <code>BotOptions</code> \u673A\u5668\u4EBA\u914D\u7F6E</li><li>\u8FD4\u56DE\u503C: <code>Adapter</code></li></ul><p>\u521B\u5EFA\u4E00\u4E2A\u9002\u7528\u4E8E bot \u7684\u9002\u914D\u5668\u5B9E\u4F8B\u5E76\u6302\u8F7D\u5728 app \u4E0B\u3002\u5982\u679C\u540C\u7C7B\u578B\u7684\u9002\u914D\u5668\u5DF2\u7ECF\u88AB\u521B\u5EFA\uFF0C\u5219\u76F4\u63A5\u8FD4\u56DE\u8FC7\u53BB\u521B\u5EFA\u7684\u5B9E\u4F8B\u3002</p><h3 id="adapter-redirect-target" tabindex="-1"><a class="header-anchor" href="#adapter-redirect-target" aria-hidden="true">#</a> Adapter.redirect(target)</h3><ul><li><strong>target:</strong> <code>string | ((bot: BotOptions) =&gt; string)</code></li><li>\u8FD4\u56DE\u503C: <code>void</code></li></ul><p>\u521B\u5EFA\u4E00\u4E2A\u91CD\u5B9A\u5411\u9002\u914D\u5668\u3002</p><h2 id="\u7C7B-adapter" tabindex="-1"><a class="header-anchor" href="#\u7C7B-adapter" aria-hidden="true">#</a> \u7C7B\uFF1AAdapter</h2><h3 id="new-adapter-app-botstatic" tabindex="-1"><a class="header-anchor" href="#new-adapter-app-botstatic" aria-hidden="true">#</a> new Adapter(app, BotStatic)</h3><ul><li><strong>app:</strong> <code>App</code> \u5E94\u7528\u5B9E\u4F8B</li><li><strong>BotStatic:</strong> <code>Bot.Constructor</code> \u673A\u5668\u4EBA\u6784\u9020\u51FD\u6570</li></ul><p>\u521B\u5EFA\u4E00\u4E2A\u9002\u914D\u5668\u5B9E\u4F8B\u3002</p><h3 id="adapter-bots" tabindex="-1"><a class="header-anchor" href="#adapter-bots" aria-hidden="true">#</a> adapter.bots</h3><ul><li>\u7C7B\u578B: <code>Bot[] &amp; Record&lt;string, Bot&gt;</code></li></ul><p>\u5F53\u524D\u9002\u914D\u5668\u4E0B\u7684\u5168\u90E8\u673A\u5668\u4EBA\u5B9E\u4F8B\u3002\u4F60\u65E2\u53EF\u4EE5\u4F7F\u7528 Array \u65B9\u6CD5\u904D\u5386\u5168\u90E8\u673A\u5668\u4EBA\uFF0C\u4E5F\u53EF\u4EE5\u4F7F\u7528 <code>selfId</code> \u4F5C\u4E3A\u7D22\u5F15\u627E\u5230\u5177\u4F53\u7684\u67D0\u4E00\u4E2A\u3002</p><h3 id="adapter-create-bot" tabindex="-1"><a class="header-anchor" href="#adapter-create-bot" aria-hidden="true">#</a> adapter.create(bot)</h3><ul><li><strong>bot:</strong> <code>BotOptions</code> \u673A\u5668\u4EBA\u914D\u7F6E</li><li>\u8FD4\u56DE\u503C: <code>void</code></li></ul><p>\u5728\u5F53\u524D\u9002\u914D\u5668\u4E0B\u6DFB\u52A0\u4E00\u4E2A\u65B0\u7684\u673A\u5668\u4EBA\u3002\u4E0B\u9762\u662F\u4E00\u4E2A\u4F8B\u5B50\uFF1A</p>',20),g=e("pre",{class:"shiki",style:{"background-color":"#272822"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#88846F"}},"// \u5982\u679C\u60F3\u8981\u5728 App \u521B\u5EFA\u5B8C\u6210\u540E\u6DFB\u52A0\u4E00\u4E2A\u673A\u5668\u4EBA\uFF0C\u4F60\u5E94\u8BE5\u8FD9\u6837\u505A")]),t(`
`),e("span",{class:"line"},[e("span",{style:{color:"#F8F8F2"}},"Adapter."),e("span",{style:{color:"#A6E22E"}},"from"),e("span",{style:{color:"#F8F8F2"}},"(app, bot)."),e("span",{style:{color:"#A6E22E"}},"create"),e("span",{style:{color:"#F8F8F2"}},"(bot)")]),t(`
`),e("span",{class:"line"})])],-1),f=e("h3",{id:"adapter-dispatch-session",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#adapter-dispatch-session","aria-hidden":"true"},"#"),t(" adapter.dispatch(session)")],-1),x=e("ul",null,[e("li",null,[e("strong",null,"session:"),t(),e("code",null,"Session"),t(" \u4F1A\u8BDD\u5B9E\u4F8B")]),e("li",null,[t("\u8FD4\u56DE\u503C: "),e("code",null,"void")])],-1),m=e("p",null,"\u6839\u636E\u4F1A\u8BDD\u5185\u5BB9\uFF0C\u5728\u76F8\u5E94\u7684\u4E0A\u4E0B\u6587\u89E6\u53D1\u4E00\u4E2A\u4E0A\u62A5\u4E8B\u4EF6\u3002",-1),A={id:"adapter-start",tabindex:"-1"},B=e("a",{class:"header-anchor",href:"#adapter-start","aria-hidden":"true"},"#",-1),w=t(" adapter.start() "),v=e("ul",null,[e("li",null,[t("\u8FD4\u56DE\u503C: "),e("code",null,"void | Promise<void>")])],-1),E=e("p",null,"\u542F\u52A8\u9002\u914D\u5668\u6240\u9700\u7684\u64CD\u4F5C\uFF0C\u5C06\u4F5C\u4E3A connect \u4E8B\u4EF6\u7684\u56DE\u8C03\u51FD\u6570\u3002",-1),k={id:"adapter-stop",tabindex:"-1"},C=e("a",{class:"header-anchor",href:"#adapter-stop","aria-hidden":"true"},"#",-1),S=t(" adapter.stop() "),W=l('<ul><li>\u8FD4\u56DE\u503C: <code>void</code></li></ul><p>\u505C\u6B62\u9002\u914D\u5668\u6240\u9700\u7684\u64CD\u4F5C\uFF0C\u5C06\u4F5C\u4E3A disconnect \u4E8B\u4EF6\u7684\u56DE\u8C03\u51FD\u6570\u3002</p><h2 id="\u7C7B-adapter-wsclient" tabindex="-1"><a class="header-anchor" href="#\u7C7B-adapter-wsclient" aria-hidden="true">#</a> \u7C7B\uFF1AAdapter.WsClient</h2><h3 id="new-adapter-wsclient-app-botstatic-options" tabindex="-1"><a class="header-anchor" href="#new-adapter-wsclient-app-botstatic-options" aria-hidden="true">#</a> new Adapter.WsClient(app, BotStatic, options?)</h3><ul><li><strong>app:</strong> <code>App</code> \u5E94\u7528\u5B9E\u4F8B</li><li><strong>BotStatic:</strong> <code>Bot.Constructor</code> \u673A\u5668\u4EBA\u6784\u9020\u51FD\u6570</li><li><strong>options:</strong> <code>WsClientOptions</code> \u8FDE\u63A5\u914D\u7F6E</li></ul><p>\u521B\u5EFA\u4E00\u4E2A WsClient \u9002\u914D\u5668\u5B9E\u4F8B\u3002</p>',6),O=e("pre",{class:"shiki",style:{"background-color":"#272822"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#F92672"}},"export"),e("span",{style:{color:"#F8F8F2"}}," "),e("span",{style:{color:"#66D9EF","font-style":"italic"}},"interface"),e("span",{style:{color:"#F8F8F2"}}," "),e("span",{style:{color:"#A6E22E","text-decoration":"underline"}},"WsClientOptions"),e("span",{style:{color:"#F8F8F2"}}," {")]),t(`
`),e("span",{class:"line"},[e("span",{style:{color:"#F8F8F2"}},"  retryLazy"),e("span",{style:{color:"#F92672"}},"?:"),e("span",{style:{color:"#F8F8F2"}}," "),e("span",{style:{color:"#66D9EF","font-style":"italic"}},"number")]),t(`
`),e("span",{class:"line"},[e("span",{style:{color:"#F8F8F2"}},"  retryTimes"),e("span",{style:{color:"#F92672"}},"?:"),e("span",{style:{color:"#F8F8F2"}}," "),e("span",{style:{color:"#66D9EF","font-style":"italic"}},"number")]),t(`
`),e("span",{class:"line"},[e("span",{style:{color:"#F8F8F2"}},"  retryInterval"),e("span",{style:{color:"#F92672"}},"?:"),e("span",{style:{color:"#F8F8F2"}}," "),e("span",{style:{color:"#66D9EF","font-style":"italic"}},"number")]),t(`
`),e("span",{class:"line"},[e("span",{style:{color:"#F8F8F2"}},"}")]),t(`
`),e("span",{class:"line"})])],-1),D={id:"adapter-prepare-bot",tabindex:"-1"},N=e("a",{class:"header-anchor",href:"#adapter-prepare-bot","aria-hidden":"true"},"#",-1),V=t(" adapter.prepare(bot) "),P=e("ul",null,[e("li",null,[e("strong",null,"bot:"),t(),e("code",null,"Bot"),t(" \u673A\u5668\u4EBA\u5B9E\u4F8B")]),e("li",null,[t("\u8FD4\u56DE\u503C: "),e("code",null,"WebSocket | Promise<WebSocket>")])],-1),I=e("p",null,"\u6839\u636E\u673A\u5668\u4EBA\u5B9E\u4F8B\u751F\u6210\u4E00\u4E2A WebSocket \u5BF9\u8C61\u3002",-1),R={id:"adapter-connect-bot",tabindex:"-1"},T=e("a",{class:"header-anchor",href:"#adapter-connect-bot","aria-hidden":"true"},"#",-1),j=t(" adapter.connect(bot) "),z=e("ul",null,[e("li",null,[e("strong",null,"bot:"),t(),e("code",null,"Bot"),t(" \u673A\u5668\u4EBA\u5B9E\u4F8B")]),e("li",null,[t("\u8FD4\u56DE\u503C: "),e("code",null,"Promise<void>")])],-1),L=e("p",null,"WebSocket \u8FDE\u63A5\u6210\u529F\u5EFA\u7ACB\u540E\u7684\u56DE\u8C03\u51FD\u6570\u3002",-1);function q(G,H){const o=r("Badge"),s=r("panel-view");return p(),c(i,null,[u,_,e("p",null,[b,a(o,{text:"abstract",vertical:"baseline"}),F]),y,a(s,{class:"code",title:"",style:{}},{default:n(()=>[g]),_:1}),f,x,m,e("h3",A,[B,w,a(o,{text:"abstract"})]),v,E,e("h3",k,[C,S,a(o,{text:"abstract"})]),W,a(s,{class:"code",title:"",style:{}},{default:n(()=>[O]),_:1}),e("h3",D,[N,V,a(o,{text:"abstract"})]),P,I,e("h3",R,[T,j,a(o,{text:"abstract"})]),z,L],64)}var K=d(h,[["render",q]]);export{K as default};
